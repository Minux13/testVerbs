<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<title>Minux</title>
		<style>
			body{
				text-align: center;	
			}
			.inputtext{
				border: none;	
				max-width: 200px;
				min-width: 50px;
			}
			.spaninput{
				padding: 8px 13px;	
				border: solid 1px #ddf;
				display: inline-block;
			}
			.inputtext:focus{
				outline: none;
			}
			.divinput{
				display: inline-block;
				margin: 0 15px;	
			}
			#asks{
				text-align: center;
			}
			#infinitive{
				font-size: 30px;
				margin: 120px 0 60px 0;
				text-align: center;	
			}
			.textask{
				text-align: left;
				width: 100%;
				display: block;
				margin: 0 0 5px 10px;
			}
			table {
			    font-family: arial, sans-serif;
			    border-collapse: collapse;
			    width: calc(100% - 60px);
			    margin: 30px;
			}
			tr:nth-child(even) {
    				background-color: #f0f0f0;
			}
			
			td, th {
			    border: 1px solid #dddddd;
			    text-align: left;
			    padding: 8px;
			}
			.checksimbol{
				border: none;
			}
			.red{
				color: red;
			}
			.blue{
				color: blue;
			}
			.infcolum, .mlink{
				cursor: pointer;	
			}
		</style>


		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	</head>
<body>

	<h1 style="text-align: center;margin-buttom: 80px;">Irregular Verbs Test</h1>
	<button onclick="filter();">Filtrar</button>

</body>
<script>

function filter(){
	
	var cells = document.getElementsByTagName("tr");
	
	for( var c=1; c < cells.length ; c++ ){
		console.log(cells[c].getElementsByClassName("checksimbol")[0])	
		var isMarked = cells[c].getElementsByClassName("checksimbol")[0].children[0].checked;	
		if( isMarked ){
			//cells[c].style.display = '';
		}
		else{
			cells[c].style.display = 'none';			
		}
	}
	
}

function createWindow(cUrl,cName,cFeatures) {
	var xWin = window.open(cUrl,cName,cFeatures);
	//setTimeout(function(){ xWin.scroll(0,100); }, 3000);
	//setTimeout(function(){ console.log(window.onfocus); }, 3000);
}


var addMeaningExtra = true;
var thTagMeaningExtra = addMeaningExtra ? '<th style="width:150px;" >Significado</th>' : ""
var results = '<button onclick="filter();">Filtrar</button><table><tr><th>Infinitivo</th><th>Pasado</th><th>Participio</th><th>3ra Persona</th><th>Gerundio</th><th>Significado</th>'+thTagMeaningExtra+'<th class="checksimbol"></th></tr>';
var finalTag = "</table>"

var verboEvaluado;

var Score = 0;


function getFieldCellWithSound(elemento){
	
	var palabras = elemento.replace(/ /g , "");
	var palabras = palabras.split("/");
	var cell = "<td>";
	var endCell = "</td>"
	var espacio = ""
	
	var featuresNewWindow = 'toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=0,width=800,height=500';

	for(var i=0; i < palabras.length; i++){
		var thisWord = palabras[i];
		var onhoverAttr = ' verbo="'+ palabras[i] +'" onmouseenter="sound(this);" ';
		cell = cell + espacio;
		var urlGoogleTraslate  = 'https://translate.google.com/?hl=es#en/es/'+ thisWord;
		var onclickAttr = 'onclick="createWindow(\''+ urlGoogleTraslate +'\',\'window2\',\''+ featuresNewWindow +'\')"';
		var tagHTMLGoogleTraslate = '<span '+ onhoverAttr + onclickAttr +' class="infcolum">'+ thisWord +'</span>';

		var cell = cell + tagHTMLGoogleTraslate;
		espacio = " - "
	}

	return cell + endCell;
}


function getFieldCell(elemento){
	
	var palabras = elemento.replace(/ /g , "");
	var palabras = palabras.split("/");
	var cell = "<td>";
	var endCell = "</td>"
	var espacio = ""
	for(var i=0; i < palabras.length; i++){
		cell = cell + espacio;
		var cell = cell + '<span class="blue">'+ palabras[i] +'</span>';
		espacio = " - "
	}

	return cell + endCell;
}


function evalua(verbo){
	
	var incorrecto = {valor : false};
	
	//Sound
	var hoverSoundAttr = ' verbo="'+ verbo.inf +'" onmouseenter="sound(this);" ';
	var hoverSoundAttrC = ' verbo="'+ verbo.inf +'" onmouseenter="soundC(this);" ';

	var featuresNewWindow = 'toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=0,width=800,height=500';
	//  Columna infinitivo 
	var urlGoogleTraslate  = 'https://translate.google.com/?hl=es#en/es/'+ verbo.inf;
	var onclickAttr = 'onclick="createWindow(\''+ urlGoogleTraslate +'\',\'window2\',\''+ featuresNewWindow +'\')"';
	var tagHTMLGoogleTraslate = '<span '+ onclickAttr +' '+ hoverSoundAttr +' class="infcolum">'+ verbo.inf +'</span>';

	var urlCambDic = 'https://dictionary.cambridge.org/es/diccionario/ingles-espanol/'+verbo.inf;
	var onclickAttrCambDic = 'onclick="createWindow(\''+ urlCambDic +'\',\'window2\',\''+ featuresNewWindow +'\');"';
	var tagHTMLCamDic = '<span class="mlink" '+ onclickAttrCambDic + hoverSoundAttrC + ' style="float:right;" >&#10067;</span>';

	var urlConjutation = 'http://conjugador.reverso.net/conjugacion-ingles-verbo-'+ verbo.inf +'.html';
	var onclickAttrConjugation = 'onclick="createWindow(\''+ urlConjutation +'\',\'window2\',\''+ featuresNewWindow +'\');"';
	var tagHtmlConjugation = '<span class="mlink" '+ onclickAttrConjugation +' style="float:right;" >&#9740;</span>';

	

	var trHTMLInvinitive = '<td>'+ tagHTMLGoogleTraslate + tagHTMLCamDic + tagHtmlConjugation + '</td>';

	var pass = getFieldCellWithSound( verbo.pas );
	var part = getFieldCellWithSound( verbo.par );
	var per3 = getFieldCellWithSound( verbo.pe3 );
	var geru = getFieldCellWithSound( verbo.ger );
	var mean = getFieldCell( verbo.mea );
	var mea2 = addMeaningExtra ? '<td><span class="blue">'+ verbo.me2 +'</td>': "";
	//Color columna
	var isMeanCorrect = mean.slice(0,21)=='<td><span class="red"'? false: true;
	var cell = isMeanCorrect ? '<tr>' : '<tr style="background:#ffcccc;">';
	//var cell =  '<tr>' ;

	cell = cell + trHTMLInvinitive + pass + part + per3 + geru + mean + mea2;

	var checksimbol = '<td class="checksimbol" "><input type="checkbox"></td>';
	
	cell = cell + checksimbol + '</tr>';

	console.log("asdf")
	results = results + cell;

}

function sound( e ){
	var thisVerb = e.getAttribute("verbo");
	
	var audio = new Audio( 'linguasorbRV/' +thisVerb + '.mp3');
	audio.play();
	//var audio = document.getElementById("audio");
	//audio.play();
}

function soundC( e ){
	var thisVerb = e.getAttribute("verbo");
	
	var audio = new Audio( 'cambridgeRV/' +thisVerb + '.mp3');
	audio.play();
	//var audio = document.getElementById("audio");
	//audio.play();
}

function getverb(){


	if(verbs.length == 0){
		results = Score + '/' + v.length + results + finalTag;
		document.body.innerHTML =   results;
		return false;
	}

	var x = Math.floor((Math.random() * (verbs.length)) );
	
	evalua(verbs[x])

	var currentVerb = verbs[x].inf;


	verboEvaluado = verbs[x];
	var a = verbs.slice(0, x);
	var b = verbs.slice(x+1, verbs.length);
	verbs = a.concat(b);

}


       //infinitivo     pasado,        participio,       3er p,	         gerundio,              significado			significado extendido
var v= [
	["want",	"wanted","wanted","wants","wanting","querer/desear/necesitar",""],
	["ignore",	"ignored","ignored","ignores","ignoring","ignorar/pasarporalto/hacercasoomiso",""],
	["travel",	"travelled","travelled","travels","travelling","recorrer/desplazarse/ir",""],
	["tune",	"tuned","tuned","tunes","tuning","sintonizar/afinar/ajustar",""],
	["change",	"changed","changed","changes","changing","cambiar/modificar/variar",""],
	["increase",	"increased","increased","increases","increasing","aumentar/incrementar/mejorar",""],		
	["exercise",	"exercised","exercised","exercises","exercising","ejercer/ejercitar/actuar",""],
	["locate",	"located","located","locates","locating","localizar/ubicar/encontrar",""],
	["purchase",	"purchased","purchased","purchases","purchasing","comprar/adquirir/contratar",""],
	["impress",	"impressed","impressed","impresses","impressing","impresionar/recalcar/impactar",""],
	["try",		"tried","tried","tries","trying","intentar/tratar/probar",""],
	["discover",	"discovered","discovered","discovers","discovering","descubrir/conocer/encontrar",""],
	["recommend",	"recommended","recommended","recommends","recommending","recomendar/aconsejar/recomendarse",""],
	["manage",	"managed","managed","manages","managing","gestionar/administrar/manejar",""],
	["die",		"died","died","dies","dying","morir/morirse/matar",""],
	["knock",	"knocked","knocked","knocks","knocking","llamar/golpear/tocar",""],
	["join",	"joined","joined","joins","joining","unirsea/unir/unirse",""],
	["look",	"looked","looked","looks","looking","mirar/parecer/buscar",""],
	["express",	"expressed","expressed","expresses","expressing","expresar/manifestar/expresarse",""],
	["talk",	"talked","talked","talks","talking","hablar/decir/conversar",""],
	["hunt",	"hunted","hunted","hunts","hunting","cazar/buscar/perseguir",""],
	["witness",	"witnessed","witnessed","witnesses","witnessing","presenciar/atestiguar/sertestigo",""],
	["notice",	"noticed","noticed","notices","noticing","notar/darsecuenta/observar",""],
	["love",	"loved","loved","loves","loving","amar/encantar/querer",""],
	["relax",	"relaxed","relaxed","relaxes","relaxing","relajar/relajarse/calmar",""],
	["fix",		"fixed","fixed","fixes","fixing","arreglar/fijar/solucionar",""],
	["excuse",	"excused","excused","excuses","excusing","excusar/disculpar/justificar",""],
	["organize",	"organized","organized","organizes","organizing","organizar/ordenar/convocar",""],
	["greet",	"greeted","greeted","greets","greeting","saludar/recibir/darlabienvenida",""],
	["introduce",	"introduced","introduced","introduces","introducing","introducir/establecer/adoptar",""],
	["review",	"reviewed","reviewed","reviews","reviewing","examinar/revisar/estudiar",""],
	["chat",	"chatted","chatted","chats","chatting","hablar/charlar/conversar",""],
	["disagree",	"disagreed","disagreed","disagrees","disagreeing","discrepar/estarendesacuerdo/disentir",""],
	["terrorize",	"terrorized","terrorized","terrorizes","terrorizing","aterrorizara/aterrorizar/atemorizara",""],
	["program",	"programmed","programmed","programs","programming","programar",""],
	["share",	"shared","shared","shares","sharing","compartir/intercambiar/repartir",""],
	["date",	"dated","dated","dates","dating","salir/datar/partir",""],
	["like",	"liked","liked","likes","liking","gustar/parecer/agradar",""],
	["list",	"listed","listed","lists","listing","enumerar/registrar/listar",""],
	["interview",	"interviewed","interviewed","interviews","interviewing","entrevistar/interrogar/entrevistarse",""],
	["enjoy",	"enjoyed","enjoyed","enjoys","enjoying","disfrutar/gozar/gustar",""],
	["plan",	"planned","planned","plans","planning","planear/planificar/prever",""],
	["participate",	"participated","participated","participates","participating","participar/intervenir/colaborar",""],
	["push",	"pushed","pushed","pushes","pushing","empujar/presionar/impulsar",""],
	["dry",		"dried","dried","dries","drying","secar/secarse/enjugar",""],
	["substitute",	"substituted","substituted","substitutes","substituting","sustituir/reemplazar/substituir",""],
	["snow",	"snowed","snowed","snows","snowing","",""],
	["remember",	"remembered","remembered","remembers","remembering","recordar/acordar/acordarse",""],
	["follow",	"followed","followed","follows","following","seguir/aplicar/cumplir",""],
	["move",	"moved","moved","moves","moving","mover/avanzar/mudar",""],
	["water",	"watered","watered","waters","watering","regar/beber/diluir",""],
	["present",	"presented","presented","presents","presenting","presentar/plantear/exponer",""],
	["welcome",	"welcomed","welcomed","welcomes","welcoming","celebrar/saludar/agradecer",""],
	["check",	"checked","checked","checks","checking","comprobar/revisar/mirar",""],
	["handle",	"handled","handled","handles","handling","manejar/soportar/hacer",""],
	["discuss",	"discussed","discussed","discusses","discussing","discutir/examinar/debatir",""],
	["protect",	"protected","protected","protects","protecting","proteger/protegerse/defender",""],
	["receive",	"received","received","receives","receiving","recibir/obtener/percibir",""],
	["work",	"worked","worked","works","working","trabajar/funcionar/obrar",""],
	["underline",	"underlined","underlined","underlines","underlining","subrayar/destacar/recalcar",""],
	["release",	"released","released","releases","releasing","liberar/soltar/entregar",""],
	["decide",	"decided","decided","decides","deciding","decidir/determinar/pronunciarse",""],
	["design",	"designed","designed","designs","designing","diseñar/elaborar/proyectar",""],
	["fill",	"filled","filled","fills","filling","llenar/rellenar/cubrir",""],
	["entertain",	"entertained","entertained","entertains","entertaining","entretener/considerar/entretenerse",""],
	["provide",	"provided","provided","provides","providing","proporcionar/ofrecer/prestar",""],
	["live",	"lived","lived","lives","living","vivir/residir/habitar",""],
	["guess",	"guessed","guessed","guesses","guessing","suponer/adivinar/imaginar",""],
	["use",		"used","used","uses","using","utilizar/usar/consumir",""],
	["describe",	"described","described","describes","describing","describir/indicar/explicar",""],
	["improve",	"improved","improved","improves","improving","mejorar/aumentar/perfeccionar",""],
	["miss",	"missed","missed","misses","missing","extrañar/perder/echardemenos",""],
	["scare",	"scared","scared","scares","scaring","asustar/espantar/intimidar",""],
	["expect",	"expected","expected","expects","expecting","esperar/suponer/prever",""],
	["last",	"lasted","lasted","lasts","lasting","durar/aguantar/perdurar",""],
	["chase",	"chased","chased","chases","chasing","perseguir/seguir/cazar",""],
	["suggest",	"suggested","suggested","suggests","suggesting","sugerir/indicar/proponer",""],
	["surprise",	"surprised","surprised","surprises","surprising","sorprender/extrañar/sorprenderse",""],
	["listen",	"listened","listened","listens","listening","escuchar/oír/prestaratención",""],
	["dress",	"dressed","dressed","dresses","dressing","vestir/vestirse/vendar",""],
	["scan",	"scanned","scanned","scans","scanning","escanear/explorar/rastrear",""],
	["label",	"labelled","labelled","labels","labelling","etiquetar/calificar/marcar",""],
	["repair",	"repaired","repaired","repairs","repairing","reparar/arreglar/repararse",""],
	["open",	"opened","opened","opens","opening","abrirse/iniciar/incoar",""],
	["touch",	"touched","touched","touches","touching","tocar/abordar/afectar",""],
	["practice",	"practiced","practiced","practices","practicing","practicar/ensayar/ejercer",""],
	["invite",	"invited","invited","invites","inviting","invitar/pedir/solicitar",""],
	["rain",	"rained","rained","rains","raining","llover",""],
	["wish",	"wished","wished","wishes","wishing","desear/felicitar",""],
	["freeze",	"froze","frozen","freezes","freezing","congelar/congelarse/bloquear",""],
	["disturb",	"disturbed","disturbed","disturbs","disturbing","molestar/perturbar/alterar",""],
	["mark",	"marked","marked","marks","marking","marcar/conmemorar/celebrar",""],
	["relate",	"related","related","relates","relating","relacionar/referirse/relacionarse",""],
	["play",	"played","played","plays","playing","jugar/desempeñar/tocar",""],
	["spell",	"spelled/spelt","spelled/spelt","spells","spelling","deletrear/escribir/explicar",""],
	["solve",	"solved","solved","solves","solving","resolver/solucionar/arreglar",""],
	["end",		"ended","ended","ends","ending","terminar/acabar/finalizar",""],
	["jump",	"jumped","jumped","jumps","jumping","saltar/salirse/tirar",""],
	["walk",	"walked","walked","walks","walking","caminar/ir/pasear",""],
	["watch",	"watched","watched","watches","watching","mirar/vigilar/cuidar",""],
	["depend",	"depended","depended","depends","depending","depender/contar/confiar",""],
	["need",	"needed","needed","needs","needing","necesitar/precisar/requerir",""],
	["pardon",	"pardoned","pardoned","pardons","pardoning","disculpar/perdonar/indultar",""],
	["resist",	"resisted","resisted","resists","resisting","resistir/resistirse/evitar",""],
	["sail",	"sailed","sailed","sails","sailing","navegar/zarpar/salir",""],
	["imagine",	"imagined","imagined","imagines","imagining","imaginar/imaginarse/suponer",""],
	["warn",	"warned","warned","warns","warning","advertir/avisar/alertar",""],
	["hate",	"hated","hated","hates","hating","odiar",""],
	["slow",	"slowed","slowed","slows","slowing","reducir/bajar/ralentizar",""],
	["destroy",	"destroyed","destroyed","destroys","destroying","destruir/destrozar/destruirse",""],
	["name",	"named","named","names","naming","llamar/nombrar/mencionar",""],
	["turn",	"turned","turned","turns","turning","convertir/dar/apagar",""],
	["pick",	"picked","picked","picks","picking","recoger/elegir/escoger",""],
	["study",	"studied","studied","studies","studying","estudiar/examinar/analizar",""],
	["sneeze",	"sneezed","sneezed","sneezes","sneezing","estornudar",""],
	["jog",		"jogged","jogged","jogs","jogging","correr/refrescar/trotar",""],
	["prefer",	"preferred","preferred","prefers","preferring","preferir/presentar",""],
	["dance",	"danced","danced","dances","dancing","bailar/danzar/hacerbailar",""],
	["please",	"pleased","pleased","pleases","pleasing","complacer/placer/agradar",""],
	["happen",	"happened","happened","happens","happening","pasar/suceder/ocurrir",""],
	["order",	"ordered","ordered","orders","ordering","ordenar/pedir/decretar",""],
	["deliver",	"delivered","delivered","delivers","delivering","entregar/prestar/cumplir",""],
	["hail",	"hailed","hailed","hails","hailing","saludar/llamar/aplaudir",""],
	["fish",	"fished","fished","fishes","fishing","pescar/faenar/buscar",""],
	["return",	"returned","returned","returns","returning","volver/regresar/devolver",""],
	["damage",	"damaged","damaged","damages","damaging","dañar/perjudicar/lesionar",""],
	["offer",	"offered","offered","offers","offering","ofrecer/dar/brindar",""],
	["pack",	"packed","packed","packs","packing","empacar/envasar/hacerlasmaletas",""],
	["measure",	"measured","measured","measures","measuring","medir/evaluar/cuantificar",""],
	["taste",	"tasted","tasted","tastes","tasting","probar/saber/saborear",""],
	["vary",	"varied","varied","varies","varying","variar/diferir/modificar",""],
	["rest",	"rested","rested","rests","resting","descansar/reposar/recaer",""],
	["hope",	"hoped","hoped","hopes","hoping","esperar",""],
	["number",	"numbered","numbered","numbers","numbering","sumar/numerar/contar",""],
	["worry",	"worried","worried","worries","worrying","preocupar/preocuparse/temer",""],
	["wait",	"waited","waited","waits","waiting","esperar/aguardar/aguantar",""],
	["skate",	"skated","skated","skates","skating","patinar",""],
	["identify",	"identified","identified","identifies","identifying","identificar/determinar/detectar",""],
	["mention",	"mentioned","mentioned","mentions","mentioning","mencionar/hablar/señalar",""],
	["paint",	"painted","painted","paints","painting","pintar/pintarse/describir",""],
	["note",	"noted","noted","notes","noting","observar/señalar/notar",""],
	["match",	"matched","matched","matches","matching","igualar/coincidir/corresponder",""],
	["step",	"stepped","stepped","steps","stepping","avanzar/pasar/pisar",""],
	["help",	"helped","helped","helps","helping","ayudar/contribuir/evitar",""],
	["shop",	"shopped","shopped","shops","shopping","comprar/irdecompras/hacercompras",""],
	["persuade",	"persuaded","persuaded","persuades","persuading","persuadir/convencer/incitara",""],
	["stress",	"stressed","stressed","stresses","stressing","subrayar/destacar/recalcar",""],
	["predict",	"predicted","predicted","predicts","predicting","predecir/prever/pronosticar",""],
	["eliminate",	"eliminated","eliminated","eliminates","eliminating","eliminar/erradicar/suprimir",""],
	["fry",		"fried","fried","fries","frying","freír/freírse/quemar",""],
	["include",	"included","included","includes","including","incluir/figurar/comprender",""],
	["wash",	"washed","washed","washes","washing","lavar/lavarse/limpiar",""],
	["thank",	"thanked","thanked","thanks","thanking","agradecer/darlasgracias/felicitar",""],
	["land",	"landed","landed","lands","landing","aterrizar/desembarcar/conseguir",""],
	["film",	"filmed","filmed","films","filming","filmar/grabar/rodar",""],
	["shout",	"shouted","shouted","shouts","shouting","gritar/chillar/vociferar",""],
	["wrestle",	"wrestled","wrestled","wrestles","wrestling","luchar/pelear/forcejear",""],
	["pass",	"passed","passed","passes","passing","pasar/aprobar/transmitir",""],
	["perform",	"performed","performed","performs","performing","realizar/desempeñar/cumplir",""],
	["stop",	"stopped","stopped","stops","stopping","dejar/detener/parar",""],
	["ski",		"skied","skied","skis","skiing","esquiar",""],
	["pamper",	"pampered","pampered","pampers","pampering","mimar/consentir",""],
	["start",	"started","started","starts","starting","empezar/comenzar/iniciar",""],
	["link",	"linked","linked","links","linking","vincular/relacionar/conectar",""],
	["repeat",	"repeated","repeated","repeats","repeating","repetir/reiterar/repetirse",""],
	["park",	"parked","parked","parks","parking","estacionar/aparcar/estacionarse",""],
	["save",	"saved","saved","saves","saving","salvar/ahorrar/guardar",""],
	["learn",	"learned/learnt","learned/learnt","learns","learning","aprender/saber/enterarse",""],
	["exhibit",	"exhibited","exhibited","exhibits","exhibiting","exhibir/mostrar/presentar",""],
	//
	["harm",	"harmed","harmed","harms","harming","perjudicar/dañar/lesionar",""],
	["grant",	"granted","granted","grants","granting","conceder/otorgar/dar",""],		
	["decrease",	"decreased","decreased","decreases","decreasing","disminuir/reducir/bajar",""],

	];


function verbo(){
    this.inf,
    this.pas,
    this.par,
    this.pe3,
    this.ger,
    this.mea,
    this.me2
};

var verbs = []


for(var i=0; i< v.length; i++){
	var e = new verbo;
	e.inf = v[i][0];
	e.pas = v[i][1];
	e.par = v[i][2];
	e.pe3 = v[i][3];
	e.ger = v[i][4];
	e.mea = v[i][5];
	e.me2 = v[i][6];
	verbs.push( e );
}

for (var i=0; i<= v.length; i++){

	getverb();

}

</script>
</html>
